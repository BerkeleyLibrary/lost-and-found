<% provide :title, 'Add/Edit Locations' %>

<h1><%= yield :title %></h1>
<p style="color: #ee0000">* Required</p>
<div class="mb-4 form-group">
  <h2>Add a new location</h2>
  <%= form_with(url: location_insert_path, local: true) do |form| %>
    <%= form.label(:location_name, 'Location name:') %><span style="color: #ee0000"> * </span>
    <%= form.text_field(:location_name, placeholder: 'Moffitt Circ', required: true) %>

    <div>
      <div class="btn-group" role="group">
        <input type="submit" name="commit" value="Add location" class="btn btn-primary">
      </div>
    </div>
  <% end %>
</div>

<h2>Active Locations</h2>
<table class="table mt-5">
  <!-- the header row -->
  <thead class="thead-light">
  <tr>
    <th scope="col">Actions</th>
    <th scope="col">Location name</th>
  </tr>
  </thead>
  <!-- Layout all those beautiful requests -->
  <tbody>
  <% @active_locations.each do |location| %>
    <tr>
      <td>
        <%= link_to 'Deactivate', toggle_location_status_path(location) %>
        <%= link_to 'Edit', edit_location_path(location.id) %>
      </td>
      <td><%= location.location_name.titleize %></td>
    </tr>
  <% end %>
  </tbody>
</table>



<h2>Deactivated Locations</h2>
<table class="table mt-5">
  <!-- the header row -->
  <thead class="thead-light">
  <tr>
    <th scope="col">Actions</th>
    <th scope="col">Location name</th>
  </tr>
  </thead>
  <!-- Layout all those beautiful requests -->
  <tbody>
  <% @inactive_locations.each do |location| %>
    <tr>
      <td>
        <%= link_to 'Activate', toggle_location_status_path(location) %>
        <%= link_to 'Edit', edit_location_path(location.id) %>
      </td>
      <td><%= location.location_name.titleize %></td>
    </tr>
  <% end %>
  </tbody>
</table>
