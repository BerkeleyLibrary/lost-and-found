<%= stylesheet_link_tag 'admin', media: 'all' %>
<h1>Search for lost items</h1>
<div class="mb-4 form-group">
  <%= form_tag("items", method: "get") do %>

    <%
      # TODO: more elegant way to cache last selection
      item_type_options = options_for_select(@item_type_layout, cookies[:itemType] || '(any type)')
      location_options = options_for_select(@locations_layout, cookies[:itemLocation] || '(any location)')
    %>

    <%= label_tag(:itemType, "Item type:") %>
    <%= select_tag(:itemType, item_type_options) %>

    <%= label_tag(:keyword, "Keywords:") %>
    <%= text_field_tag :keyword, nil, placeholder: 'Enter search term' %>

    <%= label_tag(:itemLocation, "Location:") %>
    <%= select_tag(:itemLocation, location_options) %>


    <div>
      <h2>Search by date range: </h2>
      <%= label_tag(:itemDate, "Start date:") %>
      <%= date_field_tag(:itemDate) %>

      <%= label_tag(:itemDateEnd, " End date:") %>
      <%= date_field_tag(:itemDateEnd, nil, max: Date.today) %>
    </div>

    <div>
      <div class="btn-group" role="group">
        <input type="submit" name="commit" value="Submit" class="btn btn-primary mb-2" data-disable-with="Submit">
      </div>
    </div>
  <% end %>
</div>
